\hypertarget{clang_8h}{}\doxysection{include/utils/clang.h File Reference}
\label{clang_8h}\index{include/utils/clang.h@{include/utils/clang.h}}


Function headers for interacting with clang.  


This graph shows which files directly or indirectly include this file\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{clang_8h__dep__incl}
\end{center}
\end{figure}
\doxysubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{clang_8h_aadf030cd0471c3820bbbaf28939962e8}{GENERATOR\+\_\+\+PROGRAM\+\_\+\+CONTENTS}}~\char`\"{}\#include $<$stdio.\+h$>$\textbackslash{}nint \mbox{\hyperlink{purple_8c_a0ddf1224851353fc92bfbff6f499fa97}{main}}()\{printf(\textbackslash{}\char`\"{}\textbackslash{}\char`\"{});\}\char`\"{}
\begin{DoxyCompactList}\small\item\em Program used to determine platform information. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{clang_8h_a7ee7a4dfe8493922ecc907b71ec7b6d4}{GENERATOR\+\_\+\+PROGRAM\+\_\+\+CONTENTS\+\_\+\+LENGTH}}~sizeof(\mbox{\hyperlink{clang_8h_aadf030cd0471c3820bbbaf28939962e8}{GENERATOR\+\_\+\+PROGRAM\+\_\+\+CONTENTS}})
\begin{DoxyCompactList}\small\item\em Length of GENERATOR\+\_\+\+PROGRAM\+\_\+\+CONTENTS. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{clang_8h_a64dbf9f48eb71d5d333061baf146d905}{GENERATOR\+\_\+\+PROGRAM\+\_\+\+FILENAME}}~\char`\"{}.prp\+\_\+platform\+\_\+information\+\_\+generator.\+c\char`\"{}
\begin{DoxyCompactList}\small\item\em Filename of GENERATOR\+\_\+\+PROGRAM. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{clang_8h_a888ca45ed84a867fe39d88c176dd3201}{GENERATOR\+\_\+\+PROGRAM\+\_\+\+FILENAME\+\_\+\+LL}}~\char`\"{}.prp\+\_\+platform\+\_\+information\+\_\+generator.\+ll\char`\"{}
\begin{DoxyCompactList}\small\item\em Filename of GENERATOR\+\_\+\+PROGRAM\textquotesingle{}s LLVM-\/compiled file. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{clang_8h_a0ee761c397a357c8d5655377bb261bc8}{PURPLE\+\_\+\+GLOBALS\+\_\+\+PLACEHOLDER}}~\char`\"{};$<$purple\+\_\+globals\+\_\+placeholder$>$\char`\"{}
\begin{DoxyCompactList}\small\item\em Placeholder in main LLVM file used when linking globals. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{clang_8h_a493219f6c0f98a275c1537ec9fc28624}{PURPLE\+\_\+\+GLOBALS\+\_\+\+PLACEHOLDER\+\_\+\+LEN}}~sizeof(\mbox{\hyperlink{clang_8h_a0ee761c397a357c8d5655377bb261bc8}{PURPLE\+\_\+\+GLOBALS\+\_\+\+PLACEHOLDER}}) -\/ 1
\begin{DoxyCompactList}\small\item\em Length of PURPLE\+\_\+\+GLOBALS\+\_\+\+PLACEHOLDER. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{clang_8h_a3ef9aa60f9d1860c6a5b0ce0c983dedd}{clang\+\_\+compile\+\_\+llvm}} (const char $\ast$fn)
\begin{DoxyCompactList}\small\item\em Starts up the clang compiler to compile the generated LLVM-\/\+IR into a binary. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{clang_8h_a3d84b3d464dde7bb8b1f557995ddeef5}{link\+\_\+globals}} (void)
\begin{DoxyCompactList}\small\item\em Link globals.\+ll to main LLVM file by copying the contents of each LLVM file into a temporary file, then copying back to the main LLVM file. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{clang_8h_a3b369fac9808777478e63f68f41d5270}{create\+\_\+tmp\+\_\+generator\+\_\+program}} ()
\begin{DoxyCompactList}\small\item\em Create a temporary file for a generator program used to determine compilation information. \end{DoxyCompactList}\item 
char $\ast$ \mbox{\hyperlink{clang_8h_aad50747c930d7d8fe05d741b81501f5c}{get\+\_\+target\+\_\+datalayout}} ()
\begin{DoxyCompactList}\small\item\em Search through GENERATOR\+\_\+\+PROGRAM for the target datalayout. \end{DoxyCompactList}\item 
char $\ast$ \mbox{\hyperlink{clang_8h_ae6b73131bb54576584f6bdb9dc6378a7}{get\+\_\+target\+\_\+triple}} ()
\begin{DoxyCompactList}\small\item\em Get the target triple for the current target. \end{DoxyCompactList}\item 
char $\ast$ \mbox{\hyperlink{clang_8h_a05c1a47a02bdbc3937ea103b8a6eae63}{get\+\_\+postamble}} ()
\item 
char $\ast$ \mbox{\hyperlink{clang_8h_a90aaa0f0e2c76dc8c5631842644b5282}{regex\+\_\+match}} (const char $\ast$regex, char $\ast$target\+\_\+str, int len, int group\+\_\+index)
\begin{DoxyCompactList}\small\item\em Simple regex parser. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
static char \mbox{\hyperlink{clang_8h_a557e1909a0c7d7b39e06a47586eea3d4}{generator\+Program\+Full\+Path}} \mbox{[}512\mbox{]}
\begin{DoxyCompactList}\small\item\em Full path to GENERATOR\+\_\+\+PROGRAM. \end{DoxyCompactList}\item 
static char \mbox{\hyperlink{clang_8h_a47210c5be27c00fe65ac814e22beecea}{generator\+Program\+LLFull\+Path}} \mbox{[}512\mbox{]}
\begin{DoxyCompactList}\small\item\em Full path to GENERATOR\+\_\+\+PROGRAM\textquotesingle{}s LLVM-\/compiled file. \end{DoxyCompactList}\item 
static bool \mbox{\hyperlink{clang_8h_ab585cd02953166aee6f90d6d306e6eda}{generator\+Program\+Written}} = false
\begin{DoxyCompactList}\small\item\em True if the generator program has been written and compiled. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Function headers for interacting with clang. 

\begin{DoxyAuthor}{Author}
Charles Averill 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
13-\/Sep-\/2022 
\end{DoxyDate}


\doxysubsection{Macro Definition Documentation}
\mbox{\Hypertarget{clang_8h_aadf030cd0471c3820bbbaf28939962e8}\label{clang_8h_aadf030cd0471c3820bbbaf28939962e8}} 
\index{clang.h@{clang.h}!GENERATOR\_PROGRAM\_CONTENTS@{GENERATOR\_PROGRAM\_CONTENTS}}
\index{GENERATOR\_PROGRAM\_CONTENTS@{GENERATOR\_PROGRAM\_CONTENTS}!clang.h@{clang.h}}
\doxysubsubsection{\texorpdfstring{GENERATOR\_PROGRAM\_CONTENTS}{GENERATOR\_PROGRAM\_CONTENTS}}
{\footnotesize\ttfamily \#define GENERATOR\+\_\+\+PROGRAM\+\_\+\+CONTENTS~\char`\"{}\#include $<$stdio.\+h$>$\textbackslash{}nint \mbox{\hyperlink{purple_8c_a0ddf1224851353fc92bfbff6f499fa97}{main}}()\{printf(\textbackslash{}\char`\"{}\textbackslash{}\char`\"{});\}\char`\"{}}



Program used to determine platform information. 

\mbox{\Hypertarget{clang_8h_a7ee7a4dfe8493922ecc907b71ec7b6d4}\label{clang_8h_a7ee7a4dfe8493922ecc907b71ec7b6d4}} 
\index{clang.h@{clang.h}!GENERATOR\_PROGRAM\_CONTENTS\_LENGTH@{GENERATOR\_PROGRAM\_CONTENTS\_LENGTH}}
\index{GENERATOR\_PROGRAM\_CONTENTS\_LENGTH@{GENERATOR\_PROGRAM\_CONTENTS\_LENGTH}!clang.h@{clang.h}}
\doxysubsubsection{\texorpdfstring{GENERATOR\_PROGRAM\_CONTENTS\_LENGTH}{GENERATOR\_PROGRAM\_CONTENTS\_LENGTH}}
{\footnotesize\ttfamily \#define GENERATOR\+\_\+\+PROGRAM\+\_\+\+CONTENTS\+\_\+\+LENGTH~sizeof(\mbox{\hyperlink{clang_8h_aadf030cd0471c3820bbbaf28939962e8}{GENERATOR\+\_\+\+PROGRAM\+\_\+\+CONTENTS}})}



Length of GENERATOR\+\_\+\+PROGRAM\+\_\+\+CONTENTS. 

\mbox{\Hypertarget{clang_8h_a64dbf9f48eb71d5d333061baf146d905}\label{clang_8h_a64dbf9f48eb71d5d333061baf146d905}} 
\index{clang.h@{clang.h}!GENERATOR\_PROGRAM\_FILENAME@{GENERATOR\_PROGRAM\_FILENAME}}
\index{GENERATOR\_PROGRAM\_FILENAME@{GENERATOR\_PROGRAM\_FILENAME}!clang.h@{clang.h}}
\doxysubsubsection{\texorpdfstring{GENERATOR\_PROGRAM\_FILENAME}{GENERATOR\_PROGRAM\_FILENAME}}
{\footnotesize\ttfamily \#define GENERATOR\+\_\+\+PROGRAM\+\_\+\+FILENAME~\char`\"{}.prp\+\_\+platform\+\_\+information\+\_\+generator.\+c\char`\"{}}



Filename of GENERATOR\+\_\+\+PROGRAM. 

\mbox{\Hypertarget{clang_8h_a888ca45ed84a867fe39d88c176dd3201}\label{clang_8h_a888ca45ed84a867fe39d88c176dd3201}} 
\index{clang.h@{clang.h}!GENERATOR\_PROGRAM\_FILENAME\_LL@{GENERATOR\_PROGRAM\_FILENAME\_LL}}
\index{GENERATOR\_PROGRAM\_FILENAME\_LL@{GENERATOR\_PROGRAM\_FILENAME\_LL}!clang.h@{clang.h}}
\doxysubsubsection{\texorpdfstring{GENERATOR\_PROGRAM\_FILENAME\_LL}{GENERATOR\_PROGRAM\_FILENAME\_LL}}
{\footnotesize\ttfamily \#define GENERATOR\+\_\+\+PROGRAM\+\_\+\+FILENAME\+\_\+\+LL~\char`\"{}.prp\+\_\+platform\+\_\+information\+\_\+generator.\+ll\char`\"{}}



Filename of GENERATOR\+\_\+\+PROGRAM\textquotesingle{}s LLVM-\/compiled file. 

\mbox{\Hypertarget{clang_8h_a0ee761c397a357c8d5655377bb261bc8}\label{clang_8h_a0ee761c397a357c8d5655377bb261bc8}} 
\index{clang.h@{clang.h}!PURPLE\_GLOBALS\_PLACEHOLDER@{PURPLE\_GLOBALS\_PLACEHOLDER}}
\index{PURPLE\_GLOBALS\_PLACEHOLDER@{PURPLE\_GLOBALS\_PLACEHOLDER}!clang.h@{clang.h}}
\doxysubsubsection{\texorpdfstring{PURPLE\_GLOBALS\_PLACEHOLDER}{PURPLE\_GLOBALS\_PLACEHOLDER}}
{\footnotesize\ttfamily \#define PURPLE\+\_\+\+GLOBALS\+\_\+\+PLACEHOLDER~\char`\"{};$<$purple\+\_\+globals\+\_\+placeholder$>$\char`\"{}}



Placeholder in main LLVM file used when linking globals. 

\mbox{\Hypertarget{clang_8h_a493219f6c0f98a275c1537ec9fc28624}\label{clang_8h_a493219f6c0f98a275c1537ec9fc28624}} 
\index{clang.h@{clang.h}!PURPLE\_GLOBALS\_PLACEHOLDER\_LEN@{PURPLE\_GLOBALS\_PLACEHOLDER\_LEN}}
\index{PURPLE\_GLOBALS\_PLACEHOLDER\_LEN@{PURPLE\_GLOBALS\_PLACEHOLDER\_LEN}!clang.h@{clang.h}}
\doxysubsubsection{\texorpdfstring{PURPLE\_GLOBALS\_PLACEHOLDER\_LEN}{PURPLE\_GLOBALS\_PLACEHOLDER\_LEN}}
{\footnotesize\ttfamily \#define PURPLE\+\_\+\+GLOBALS\+\_\+\+PLACEHOLDER\+\_\+\+LEN~sizeof(\mbox{\hyperlink{clang_8h_a0ee761c397a357c8d5655377bb261bc8}{PURPLE\+\_\+\+GLOBALS\+\_\+\+PLACEHOLDER}}) -\/ 1}



Length of PURPLE\+\_\+\+GLOBALS\+\_\+\+PLACEHOLDER. 



\doxysubsection{Function Documentation}
\mbox{\Hypertarget{clang_8h_a3ef9aa60f9d1860c6a5b0ce0c983dedd}\label{clang_8h_a3ef9aa60f9d1860c6a5b0ce0c983dedd}} 
\index{clang.h@{clang.h}!clang\_compile\_llvm@{clang\_compile\_llvm}}
\index{clang\_compile\_llvm@{clang\_compile\_llvm}!clang.h@{clang.h}}
\doxysubsubsection{\texorpdfstring{clang\_compile\_llvm()}{clang\_compile\_llvm()}}
{\footnotesize\ttfamily void clang\+\_\+compile\+\_\+llvm (\begin{DoxyParamCaption}\item[{const char $\ast$}]{fn }\end{DoxyParamCaption})}



Starts up the clang compiler to compile the generated LLVM-\/\+IR into a binary. 


\begin{DoxyParams}{Parameters}
{\em fn} & Name of file to compile \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{clang_8h_a3b369fac9808777478e63f68f41d5270}\label{clang_8h_a3b369fac9808777478e63f68f41d5270}} 
\index{clang.h@{clang.h}!create\_tmp\_generator\_program@{create\_tmp\_generator\_program}}
\index{create\_tmp\_generator\_program@{create\_tmp\_generator\_program}!clang.h@{clang.h}}
\doxysubsubsection{\texorpdfstring{create\_tmp\_generator\_program()}{create\_tmp\_generator\_program()}}
{\footnotesize\ttfamily void create\+\_\+tmp\+\_\+generator\+\_\+program (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Create a temporary file for a generator program used to determine compilation information. 

\mbox{\Hypertarget{clang_8h_a05c1a47a02bdbc3937ea103b8a6eae63}\label{clang_8h_a05c1a47a02bdbc3937ea103b8a6eae63}} 
\index{clang.h@{clang.h}!get\_postamble@{get\_postamble}}
\index{get\_postamble@{get\_postamble}!clang.h@{clang.h}}
\doxysubsubsection{\texorpdfstring{get\_postamble()}{get\_postamble()}}
{\footnotesize\ttfamily char $\ast$ get\+\_\+postamble (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

\mbox{\Hypertarget{clang_8h_aad50747c930d7d8fe05d741b81501f5c}\label{clang_8h_aad50747c930d7d8fe05d741b81501f5c}} 
\index{clang.h@{clang.h}!get\_target\_datalayout@{get\_target\_datalayout}}
\index{get\_target\_datalayout@{get\_target\_datalayout}!clang.h@{clang.h}}
\doxysubsubsection{\texorpdfstring{get\_target\_datalayout()}{get\_target\_datalayout()}}
{\footnotesize\ttfamily char $\ast$ get\+\_\+target\+\_\+datalayout (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Search through GENERATOR\+\_\+\+PROGRAM for the target datalayout. 

\begin{DoxyReturn}{Returns}
char$\ast$ Pointer to target datalayout string 
\end{DoxyReturn}
\mbox{\Hypertarget{clang_8h_ae6b73131bb54576584f6bdb9dc6378a7}\label{clang_8h_ae6b73131bb54576584f6bdb9dc6378a7}} 
\index{clang.h@{clang.h}!get\_target\_triple@{get\_target\_triple}}
\index{get\_target\_triple@{get\_target\_triple}!clang.h@{clang.h}}
\doxysubsubsection{\texorpdfstring{get\_target\_triple()}{get\_target\_triple()}}
{\footnotesize\ttfamily char $\ast$ get\+\_\+target\+\_\+triple (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Get the target triple for the current target. 

\begin{DoxyReturn}{Returns}
char$\ast$ Pointer to the target triple string 
\end{DoxyReturn}
\mbox{\Hypertarget{clang_8h_a3d84b3d464dde7bb8b1f557995ddeef5}\label{clang_8h_a3d84b3d464dde7bb8b1f557995ddeef5}} 
\index{clang.h@{clang.h}!link\_globals@{link\_globals}}
\index{link\_globals@{link\_globals}!clang.h@{clang.h}}
\doxysubsubsection{\texorpdfstring{link\_globals()}{link\_globals()}}
{\footnotesize\ttfamily void link\+\_\+globals (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Link globals.\+ll to main LLVM file by copying the contents of each LLVM file into a temporary file, then copying back to the main LLVM file. 

\mbox{\Hypertarget{clang_8h_a90aaa0f0e2c76dc8c5631842644b5282}\label{clang_8h_a90aaa0f0e2c76dc8c5631842644b5282}} 
\index{clang.h@{clang.h}!regex\_match@{regex\_match}}
\index{regex\_match@{regex\_match}!clang.h@{clang.h}}
\doxysubsubsection{\texorpdfstring{regex\_match()}{regex\_match()}}
{\footnotesize\ttfamily char $\ast$ regex\+\_\+match (\begin{DoxyParamCaption}\item[{const char $\ast$}]{regex,  }\item[{char $\ast$}]{target\+\_\+str,  }\item[{int}]{len,  }\item[{int}]{group\+\_\+index }\end{DoxyParamCaption})}



Simple regex parser. 


\begin{DoxyParams}{Parameters}
{\em regex} & Regular expression to compile \\
\hline
{\em target\+\_\+str} & String to search in \\
\hline
{\em len} & Maximum length of the output match, if found \\
\hline
{\em group\+\_\+index} & Index of group to match (0 for no group) \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
char$\ast$ Pointer to the match text if match found, else NULL 
\end{DoxyReturn}


\doxysubsection{Variable Documentation}
\mbox{\Hypertarget{clang_8h_a557e1909a0c7d7b39e06a47586eea3d4}\label{clang_8h_a557e1909a0c7d7b39e06a47586eea3d4}} 
\index{clang.h@{clang.h}!generatorProgramFullPath@{generatorProgramFullPath}}
\index{generatorProgramFullPath@{generatorProgramFullPath}!clang.h@{clang.h}}
\doxysubsubsection{\texorpdfstring{generatorProgramFullPath}{generatorProgramFullPath}}
{\footnotesize\ttfamily char generator\+Program\+Full\+Path\mbox{[}512\mbox{]}\hspace{0.3cm}{\ttfamily [static]}}



Full path to GENERATOR\+\_\+\+PROGRAM. 

\mbox{\Hypertarget{clang_8h_a47210c5be27c00fe65ac814e22beecea}\label{clang_8h_a47210c5be27c00fe65ac814e22beecea}} 
\index{clang.h@{clang.h}!generatorProgramLLFullPath@{generatorProgramLLFullPath}}
\index{generatorProgramLLFullPath@{generatorProgramLLFullPath}!clang.h@{clang.h}}
\doxysubsubsection{\texorpdfstring{generatorProgramLLFullPath}{generatorProgramLLFullPath}}
{\footnotesize\ttfamily char generator\+Program\+LLFull\+Path\mbox{[}512\mbox{]}\hspace{0.3cm}{\ttfamily [static]}}



Full path to GENERATOR\+\_\+\+PROGRAM\textquotesingle{}s LLVM-\/compiled file. 

\mbox{\Hypertarget{clang_8h_ab585cd02953166aee6f90d6d306e6eda}\label{clang_8h_ab585cd02953166aee6f90d6d306e6eda}} 
\index{clang.h@{clang.h}!generatorProgramWritten@{generatorProgramWritten}}
\index{generatorProgramWritten@{generatorProgramWritten}!clang.h@{clang.h}}
\doxysubsubsection{\texorpdfstring{generatorProgramWritten}{generatorProgramWritten}}
{\footnotesize\ttfamily bool generator\+Program\+Written = false\hspace{0.3cm}{\ttfamily [static]}}



True if the generator program has been written and compiled. 

