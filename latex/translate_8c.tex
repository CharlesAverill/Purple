\hypertarget{translate_8c}{}\doxysection{src/translate/translate.c File Reference}
\label{translate_8c}\index{src/translate/translate.c@{src/translate/translate.c}}


Functions for LLVM-\/\+IR translation.  


{\ttfamily \#include \char`\"{}translate/translate.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}data.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}utils/logging.\+h\char`\"{}}\newline
Include dependency graph for translate.\+c\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{translate_8c__incl}
\end{center}
\end{figure}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
static void \mbox{\hyperlink{translate_8c_ae80e343df46fde6686f722d2b1c3e6a6}{translate\+\_\+init}} (void)
\begin{DoxyCompactList}\small\item\em Initialize any values required for LLVM translation. \end{DoxyCompactList}\item 
\mbox{\hyperlink{structLLVMStackEntryNode}{LLVMStack\+Entry\+Node}} $\ast$ \mbox{\hyperlink{translate_8c_a7abbf5b5f5d3fc9d561f7e080077bb9e}{determine\+\_\+binary\+\_\+expression\+\_\+stack\+\_\+allocation}} (\mbox{\hyperlink{structASTNode}{ASTNode}} $\ast$root)
\begin{DoxyCompactList}\small\item\em Perform a DFS on an AST to determine the stack allocation needed for a binary expression. \end{DoxyCompactList}\item 
static \mbox{\hyperlink{structLLVMValue}{LLVMValue}} \mbox{\hyperlink{translate_8c_ac234380de36b6966bf21e6052c7fad68}{if\+\_\+ast\+\_\+to\+\_\+llvm}} (\mbox{\hyperlink{structASTNode}{ASTNode}} $\ast$n)
\begin{DoxyCompactList}\small\item\em Generate LLVM-\/\+IR for an if statement AST. \end{DoxyCompactList}\item 
static \mbox{\hyperlink{structLLVMValue}{LLVMValue}} \mbox{\hyperlink{translate_8c_a3a5ce1830c21d69ecf8ec4b744af6882}{while\+\_\+else\+\_\+ast\+\_\+to\+\_\+llvm}} (\mbox{\hyperlink{structASTNode}{ASTNode}} $\ast$n)
\begin{DoxyCompactList}\small\item\em Generate LLVM-\/\+IR for a while-\/else statement AST. \end{DoxyCompactList}\item 
static \mbox{\hyperlink{structLLVMValue}{LLVMValue}} \mbox{\hyperlink{translate_8c_a4f503b06321e4420c32ba6ac07332e16}{print\+\_\+ast\+\_\+to\+\_\+llvm}} (\mbox{\hyperlink{structASTNode}{ASTNode}} $\ast$root, \mbox{\hyperlink{structLLVMValue}{LLVMValue}} virtual\+\_\+register)
\begin{DoxyCompactList}\small\item\em Generate LLVM-\/\+IR for a print statement. \end{DoxyCompactList}\item 
\mbox{\hyperlink{structLLVMValue}{LLVMValue}} \mbox{\hyperlink{translate_8c_ad58fb60b0c36c33bd29776762e5f2d18}{ast\+\_\+to\+\_\+llvm}} (\mbox{\hyperlink{structASTNode}{ASTNode}} $\ast$root, \mbox{\hyperlink{structLLVMValue}{LLVMValue}} llvm\+\_\+value, \mbox{\hyperlink{scan_8h_aa520fbf142ba1e7e659590c07da31921}{Token\+Type}} parent\+\_\+operation)
\begin{DoxyCompactList}\small\item\em Generates LLVM-\/\+IR from a given AST. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{translate_8c_ac2560f9333db7b4bc4b0dd4ef15b3dcc}{generate\+\_\+llvm}} (void)
\begin{DoxyCompactList}\small\item\em Wrapper function for generating LLVM. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{structLLVMStackEntryNode}{LLVMStack\+Entry\+Node}} $\ast$ \mbox{\hyperlink{translate_8c_a14931181b0e852af3c22f3d9f3678e48}{free\+Virtual\+Registers\+Head}} = NULL
\begin{DoxyCompactList}\small\item\em Head node of linked list containing register indices that are free to have values stored in them. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Functions for LLVM-\/\+IR translation. 

\begin{DoxyAuthor}{Author}
Charles Averill 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
10-\/Sep-\/2022 
\end{DoxyDate}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{translate_8c_ad58fb60b0c36c33bd29776762e5f2d18}\label{translate_8c_ad58fb60b0c36c33bd29776762e5f2d18}} 
\index{translate.c@{translate.c}!ast\_to\_llvm@{ast\_to\_llvm}}
\index{ast\_to\_llvm@{ast\_to\_llvm}!translate.c@{translate.c}}
\doxysubsubsection{\texorpdfstring{ast\_to\_llvm()}{ast\_to\_llvm()}}
{\footnotesize\ttfamily \mbox{\hyperlink{structLLVMValue}{LLVMValue}} ast\+\_\+to\+\_\+llvm (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structASTNode}{ASTNode}} $\ast$}]{root,  }\item[{\mbox{\hyperlink{structLLVMValue}{LLVMValue}}}]{llvm\+\_\+value,  }\item[{\mbox{\hyperlink{scan_8h_aa520fbf142ba1e7e659590c07da31921}{Token\+Type}}}]{parent\+\_\+operation }\end{DoxyParamCaption})}



Generates LLVM-\/\+IR from a given AST. 


\begin{DoxyParams}{Parameters}
{\em n} & The AST Node from which LLVM will be generated \\
\hline
{\em llvm\+\_\+value} & \mbox{\hyperlink{structLLVMValue}{LLVMValue}} storing register or label information \\
\hline
{\em parent\+\_\+operation} & Token\+Type of parent of n \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\mbox{\hyperlink{structLLVMValue}{LLVMValue}} \mbox{\hyperlink{structLLVMValue}{LLVMValue}} struct containing information about what code this AST Node generated 
\end{DoxyReturn}
\mbox{\Hypertarget{translate_8c_a7abbf5b5f5d3fc9d561f7e080077bb9e}\label{translate_8c_a7abbf5b5f5d3fc9d561f7e080077bb9e}} 
\index{translate.c@{translate.c}!determine\_binary\_expression\_stack\_allocation@{determine\_binary\_expression\_stack\_allocation}}
\index{determine\_binary\_expression\_stack\_allocation@{determine\_binary\_expression\_stack\_allocation}!translate.c@{translate.c}}
\doxysubsubsection{\texorpdfstring{determine\_binary\_expression\_stack\_allocation()}{determine\_binary\_expression\_stack\_allocation()}}
{\footnotesize\ttfamily \mbox{\hyperlink{structLLVMStackEntryNode}{LLVMStack\+Entry\+Node}} $\ast$ determine\+\_\+binary\+\_\+expression\+\_\+stack\+\_\+allocation (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structASTNode}{ASTNode}} $\ast$}]{root }\end{DoxyParamCaption})}



Perform a DFS on an AST to determine the stack allocation needed for a binary expression. 


\begin{DoxyParams}{Parameters}
{\em root} & Root of AST to find stack allocation for \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
LLVMStack\+Entry\+Node$\ast$ Pointer to front of the stack allocation linked list 
\end{DoxyReturn}
\mbox{\Hypertarget{translate_8c_ac2560f9333db7b4bc4b0dd4ef15b3dcc}\label{translate_8c_ac2560f9333db7b4bc4b0dd4ef15b3dcc}} 
\index{translate.c@{translate.c}!generate\_llvm@{generate\_llvm}}
\index{generate\_llvm@{generate\_llvm}!translate.c@{translate.c}}
\doxysubsubsection{\texorpdfstring{generate\_llvm()}{generate\_llvm()}}
{\footnotesize\ttfamily void generate\+\_\+llvm (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Wrapper function for generating LLVM. 

\mbox{\Hypertarget{translate_8c_ac234380de36b6966bf21e6052c7fad68}\label{translate_8c_ac234380de36b6966bf21e6052c7fad68}} 
\index{translate.c@{translate.c}!if\_ast\_to\_llvm@{if\_ast\_to\_llvm}}
\index{if\_ast\_to\_llvm@{if\_ast\_to\_llvm}!translate.c@{translate.c}}
\doxysubsubsection{\texorpdfstring{if\_ast\_to\_llvm()}{if\_ast\_to\_llvm()}}
{\footnotesize\ttfamily static \mbox{\hyperlink{structLLVMValue}{LLVMValue}} if\+\_\+ast\+\_\+to\+\_\+llvm (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structASTNode}{ASTNode}} $\ast$}]{n }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Generate LLVM-\/\+IR for an if statement AST. 

jump false\+\_\+label if !condition body() jump end\+\_\+label false\+\_\+label\+: falsebody() end\+\_\+label\+:


\begin{DoxyParams}{Parameters}
{\em n} & Root AST node \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\mbox{\hyperlink{structLLVMValue}{LLVMValue}} LLVMVALUE\+\_\+\+NULL 
\end{DoxyReturn}
\mbox{\Hypertarget{translate_8c_a4f503b06321e4420c32ba6ac07332e16}\label{translate_8c_a4f503b06321e4420c32ba6ac07332e16}} 
\index{translate.c@{translate.c}!print\_ast\_to\_llvm@{print\_ast\_to\_llvm}}
\index{print\_ast\_to\_llvm@{print\_ast\_to\_llvm}!translate.c@{translate.c}}
\doxysubsubsection{\texorpdfstring{print\_ast\_to\_llvm()}{print\_ast\_to\_llvm()}}
{\footnotesize\ttfamily static \mbox{\hyperlink{structLLVMValue}{LLVMValue}} print\+\_\+ast\+\_\+to\+\_\+llvm (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structASTNode}{ASTNode}} $\ast$}]{root,  }\item[{\mbox{\hyperlink{structLLVMValue}{LLVMValue}}}]{virtual\+\_\+register }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Generate LLVM-\/\+IR for a print statement. 


\begin{DoxyParams}{Parameters}
{\em n} & Root AST node \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\mbox{\hyperlink{structLLVMValue}{LLVMValue}} LLVMVALUE\+\_\+\+NULL 
\end{DoxyReturn}
\mbox{\Hypertarget{translate_8c_ae80e343df46fde6686f722d2b1c3e6a6}\label{translate_8c_ae80e343df46fde6686f722d2b1c3e6a6}} 
\index{translate.c@{translate.c}!translate\_init@{translate\_init}}
\index{translate\_init@{translate\_init}!translate.c@{translate.c}}
\doxysubsubsection{\texorpdfstring{translate\_init()}{translate\_init()}}
{\footnotesize\ttfamily static void translate\+\_\+init (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Initialize any values required for LLVM translation. 

\mbox{\Hypertarget{translate_8c_a3a5ce1830c21d69ecf8ec4b744af6882}\label{translate_8c_a3a5ce1830c21d69ecf8ec4b744af6882}} 
\index{translate.c@{translate.c}!while\_else\_ast\_to\_llvm@{while\_else\_ast\_to\_llvm}}
\index{while\_else\_ast\_to\_llvm@{while\_else\_ast\_to\_llvm}!translate.c@{translate.c}}
\doxysubsubsection{\texorpdfstring{while\_else\_ast\_to\_llvm()}{while\_else\_ast\_to\_llvm()}}
{\footnotesize\ttfamily static \mbox{\hyperlink{structLLVMValue}{LLVMValue}} while\+\_\+else\+\_\+ast\+\_\+to\+\_\+llvm (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structASTNode}{ASTNode}} $\ast$}]{n }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Generate LLVM-\/\+IR for a while-\/else statement AST. 

condition\+\_\+label\+: jump else\+\_\+label if !condition body() jump condition\+\_\+label else\+\_\+label\+: elsebody()


\begin{DoxyParams}{Parameters}
{\em n} & Root AST node \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\mbox{\hyperlink{structLLVMValue}{LLVMValue}} LLVMVALUE\+\_\+\+NULL 
\end{DoxyReturn}


\doxysubsection{Variable Documentation}
\mbox{\Hypertarget{translate_8c_a14931181b0e852af3c22f3d9f3678e48}\label{translate_8c_a14931181b0e852af3c22f3d9f3678e48}} 
\index{translate.c@{translate.c}!freeVirtualRegistersHead@{freeVirtualRegistersHead}}
\index{freeVirtualRegistersHead@{freeVirtualRegistersHead}!translate.c@{translate.c}}
\doxysubsubsection{\texorpdfstring{freeVirtualRegistersHead}{freeVirtualRegistersHead}}
{\footnotesize\ttfamily \mbox{\hyperlink{structLLVMStackEntryNode}{LLVMStack\+Entry\+Node}}$\ast$ free\+Virtual\+Registers\+Head = NULL}



Head node of linked list containing register indices that are free to have values stored in them. 

